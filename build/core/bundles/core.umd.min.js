!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs/Subject"),require("rxjs/BehaviorSubject"),require("rxjs/observable/timer"),require("rxjs/operators"),require("rxjs/observable/of")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","rxjs/Subject","rxjs/BehaviorSubject","rxjs/observable/timer","rxjs/operators","rxjs/observable/of"],t):t((e["ngx-progressbar"]=e["ngx-progressbar"]||{},e["ngx-progressbar"].core={}),e.ng.core,e.ng.common,e.Rx,e.Rx,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx.Observable)}(this,function(e,t,n,r,i,o,s,a){"use strict";var p=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,n){return e<t?t:e>n?n:e},l=u;e.NgProgress=function(){function e(){var e=this;this.initState={active:!1,value:0},this.state$=new i.BehaviorSubject(this.initState),this.trickling$=new r.Subject,this.progress=0,this.maximum=1,this.minimum=.08,this.speed=200,this.trickleSpeed=300,this.trickling$.pipe(s.switchMap(function(){return o.timer(0,e.trickleSpeed).pipe(s.takeWhile(function(){return e.isStarted}),s.tap(function(){return e.inc()}))})).subscribe()}return Object.defineProperty(e.prototype,"isStarted",{get:function(){return this.progress>0&&this.progress<this.maximum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"started",{get:function(){return this.state$.pipe(s.map(function(e){return e.active}),s.distinctUntilChanged(),s.filter(function(e){return e}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this.state$.pipe(s.map(function(e){return e.active}),s.distinctUntilChanged(),s.filter(function(e){return!e}),s.skip(1))},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.isStarted||this.set(this.minimum),this.trickling$.next()},e.prototype.done=function(){this.isStarted&&(this.set(.3+.5*Math.random()),this.set(this.maximum))},e.prototype.inc=function(e){var t=this.progress;this.isStarted?("number"!=typeof e&&(e=t>=0&&t<.2?.1:t>=.2&&t<.5?.04:t>=.5&&t<.8?.02:t>=.8&&t<.99?.005:0),t=u(t+e,0,.994),this.set(t)):this.start()},e.prototype.set=function(e){var t=this;if(this.progress=u(e,this.minimum,this.maximum),this.updateState(this.progress,!0),e===this.maximum){var n=function(){t.progress>=t.maximum&&(t.progress=0,t.updateState(t.progress,!1))};setTimeout(function(){t.progress>=t.maximum&&(t.updateState(t.progress,!1),setTimeout(n,t.speed))},this.speed)}},e.prototype.updateState=function(e,t){this.state$.next({active:t,value:e})},e}(),e.NgProgress=p([t.Injectable(),c("design:paramtypes",[])],e.NgProgress);var d=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e){this.progress=e}return e.prototype.ngOnInit=function(){var e=this;this.state$=this.progress.state$.pipe(s.switchMap(function(t){return a.of({containerClasses:e.containerClasses(t),progressStyles:e.progressBarStyles(t),meteorStyles:e.meteorStyles(),spinnerClasses:e.spinnerClasses(),spinnerStyles:e.spinnerStyles()})}))},e.prototype.containerClasses=function(e){return{active:e.active,thick:this.thick}},e.prototype.progressBarStyles=function(e){var t=e.value?this.toPercentage(e.value):m[this.direction].bar;return{transition:"all "+this.speed+"ms "+this.ease,background:this.color,mozTransform:h(t),oTransform:h(t),msTransform:h(t),webkitTransform:h(t),transform:h(t)}},e.prototype.meteorStyles=function(){return{boxShadow:"0 0 10px "+this.color+", 0 0 5px "+this.color,left:m[this.direction].meteorLeft,transform:m[this.direction].meteorRotate(this.thick)}},e.prototype.toPercentage=function(e){return 100*m[this.direction].toPercentage(e)},e.prototype.spinnerClasses=function(){var e="left"===this.spinnerPosition?" spinner-left":"";return m[this.direction].spinnerClass+e},e.prototype.spinnerStyles=function(){return{borderTopColor:this.color,borderLeftColor:this.color}},e}();d([t.Input(),f("design:type",String)],g.prototype,"ease",void 0),d([t.Input(),f("design:type",Number)],g.prototype,"speed",void 0),d([t.Input(),f("design:type",Boolean)],g.prototype,"meteor",void 0),d([t.Input(),f("design:type",Boolean)],g.prototype,"spinner",void 0),d([t.Input(),f("design:type",String)],g.prototype,"spinnerPosition",void 0),d([t.Input(),f("design:type",String)],g.prototype,"direction",void 0),d([t.Input(),f("design:type",String)],g.prototype,"thick",void 0),d([t.Input(),f("design:type",String)],g.prototype,"color",void 0),g=d([t.Component({selector:"ng-progress-bar",template:'\n    <div class="ng-progress" *ngIf="state$ | async; let state" [ngClass]="state.containerClasses">\n\n      <div class="bar" [ngStyle]="state.progressStyles">\n\n        <div *ngIf="meteor" class="meteor" [ngStyle]="state.meteorStyles"></div>\n\n      </div>\n\n      <div *ngIf="spinner" class="spinner {{state.spinnerClasses}}">\n\n        <div class="spinner-icon" [ngStyle]="state.spinnerStyles"></div>\n\n      </div> \n    </div>\n  ',styles:["\n    .ng-progress {\n      z-index: 999999;\n      top: 0;\n      left: 0;\n      width: 100%;\n      position: fixed;\n      zoom: 1;\n      filter: alpha(opacity=0);\n      opacity: 0;\n      -webkit-transition: opacity 200ms linear;\n      transition: opacity 200ms linear; }\n\n    .active {\n      filter: alpha(opacity=100);\n      opacity: 1;\n      -webkit-transition: none;\n      transition: none; }\n\n    .bar {\n      position: absolute;\n      width: 100%;\n      height: 2px; }\n\n    .thick .bar {\n      height: 3px; }\n\n    .meteor {\n      display: block;\n      position: absolute;\n      right: 0;\n      top: -3px;\n      width: 100px;\n      height: 100%;\n      opacity: 1.0; }\n\n    .thick .meteor {\n      top: -4px; }\n\n    .thick .spinner-icon {\n      width: 24px;\n      height: 24px;\n      border: solid 3px transparent; }\n\n    .spinner {\n      display: block;\n      position: fixed;\n      z-index: 1031;\n      top: 15px;\n      right: 15px; }\n      .spinner.spinner-left {\n        left: 15px;\n        right: unset; }\n\n    .spinner-icon {\n      width: 18px;\n      height: 18px;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      border: solid 2px transparent;\n      border-radius: 50%;\n      -webkit-animation: nprogress-spinner 400ms linear infinite;\n              animation: nprogress-spinner 400ms linear infinite; }\n\n    .anti-clockwise .spinner-icon {\n      -webkit-animation-direction: reverse;\n              animation-direction: reverse; }\n\n    @-webkit-keyframes nprogress-spinner {\n      0% {\n        -webkit-transform: rotate(0deg);\n                transform: rotate(0deg); }\n      100% {\n        -webkit-transform: rotate(360deg);\n                transform: rotate(360deg); } }\n\n    @keyframes nprogress-spinner {\n      0% {\n        -webkit-transform: rotate(0deg);\n                transform: rotate(0deg); }\n      100% {\n        -webkit-transform: rotate(360deg);\n                transform: rotate(360deg); } }\n  "],changeDetection:t.ChangeDetectionStrategy.OnPush}),f("design:paramtypes",[e.NgProgress])],g);var h=function(e){return"translate3d("+e+"%,0,0)"},m={leftToRightIncreased:{bar:-100,toPercentage:function(e){return-1+e},spinnerClass:"clockwise",meteorRotate:function(e){return"rotate("+(e?4:3)+"deg)"},meteorLeft:"unset"},leftToRightReduced:{bar:0,toPercentage:function(e){return-e},spinnerClass:"anti-clockwise",meteorRotate:function(e){return"rotate("+(e?4:3)+"deg)"},meteorLeft:"unset"},rightToLeftIncreased:{bar:100,toPercentage:function(e){return 1-e},spinnerClass:"anti-clockwise",meteorRotate:function(e){return"rotate("+(e?-4:-3)+"deg)"},meteorLeft:0},rightToLeftReduced:{bar:0,toPercentage:function(e){return e},spinnerClass:"clockwise",meteorRotate:function(e){return"rotate("+(e?-4:-3)+"deg)"},meteorLeft:0}},y=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function e(e){this.progress=e,this.ease="linear",this.meteor=!0,this.spinner=!0,this.spinnerPosition="right",this.direction="leftToRightIncreased",this.color="#1B95E0",this.thick=!1,this.maximum=1,this.minimum=.08,this.speed=200,this.trickleSpeed=300}return Object.defineProperty(e.prototype,"toggleProgressbar",{set:function(e){e?this.progress.start():this.progress.done()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){var t=e.minimum,n=e.maximum,r=e.speed,i=e.trickleSpeed;if(t&&"undefined"!=typeof t.currentValue&&t.currentValue!==t.previousValue){if(t.currentValue<0||t.currentValue>1)throw new Error("Input [minimum] must be between 0 and 1");this.progress.minimum=t.currentValue}if(n&&"undefined"!=typeof n.currentValue&&n.currentValue!==n.previousValue){if(n.currentValue<0||n.currentValue>1)throw new Error("Input [maximum] must be between 0 and 1");this.progress.maximum=n.currentValue}r&&"undefined"!=typeof r.currentValue&&r.currentValue!==r.previousValue&&(this.progress.speed=r.currentValue),i&&"undefined"!=typeof i.currentValue&&i.currentValue!==i.previousValue&&(this.progress.trickleSpeed=i.currentValue)},e}();y([t.Input(),b("design:type",Object)],v.prototype,"ease",void 0),y([t.Input(),b("design:type",Object)],v.prototype,"meteor",void 0),y([t.Input(),b("design:type",Object)],v.prototype,"spinner",void 0),y([t.Input(),b("design:type",Object)],v.prototype,"spinnerPosition",void 0),y([t.Input(),b("design:type",Object)],v.prototype,"direction",void 0),y([t.Input(),b("design:type",Object)],v.prototype,"color",void 0),y([t.Input(),b("design:type",Object)],v.prototype,"thick",void 0),y([t.Input(),b("design:type",Object)],v.prototype,"maximum",void 0),y([t.Input(),b("design:type",Object)],v.prototype,"minimum",void 0),y([t.Input(),b("design:type",Object)],v.prototype,"speed",void 0),y([t.Input(),b("design:type",Object)],v.prototype,"trickleSpeed",void 0),y([t.Input("toggle"),b("design:type",Boolean),b("design:paramtypes",[Boolean])],v.prototype,"toggleProgressbar",null),v=y([t.Component({selector:"ng-progress",template:'\n    <ng-progress-bar\n        [speed]="speed"\n        [ease]="ease"\n        [meteor]="meteor"\n        [spinner]="spinner"\n        [spinnerPosition]="spinnerPosition"\n        [direction]="direction"\n        [color]="color"\n        [thick]="thick"\n    ></ng-progress-bar>\n  ',styles:["\n    :host {\n      z-index: 999999;\n      pointer-events: none;\n      position: relative; }\n  "],changeDetection:t.ChangeDetectionStrategy.OnPush}),b("design:paramtypes",[e.NgProgress])],v);var x=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};e.NgProgressModule=j=function(){function t(){}return t.forRoot=function(){return{ngModule:j,providers:[e.NgProgress]}},t}(),e.NgProgressModule=j=x([t.NgModule({declarations:[v,g],exports:[v],imports:[n.CommonModule]})],e.NgProgressModule);var j;e.ɵ0=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=core.umd.min.js.map
